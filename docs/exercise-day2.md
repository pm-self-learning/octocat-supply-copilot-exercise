# **GitHub Copilot Advanced Features Exercise**

This exercise demonstrates advanced GitHub Copilot features including custom instructions, code review capabilities, and Azure integration. Learn how to enhance your development workflow by leveraging these powerful features.

## **Features to Learn**

- **Custom Instructions**: Create and use instruction files to define coding standards and project requirements
- **Copilot Code Review**: Use AI-powered code review to get instant feedback on your code
- **GitHub Copilot for Azure**: Learn how to leverage Copilot for cloud deployment planning and configuration using Copilot extension in VS Code

## Exercises
- [**Exercise 1: Setting Up an Instruction File**](#exercise-1-setting-up-an-instruction-file): Setting up an instruction file to define project-wide coding standards
- [**Exercise 2: Using GitHub Copilot for Code Review**](#exercise-2-github-copilot-code-review): Using GitHub Copilot for code review
- [**Exercise 3: Using GitHub Copilot for Azure**](#exercise-3-github-copilot-for-azure) (_Stretch Goal_): Using GitHub Copilot for Azure to plan and configure cloud deployment

## **Description**

- **About the Exercise**: Master advanced GitHub Copilot features to streamline your development process and improve code quality
- **Why**: Enhance development productivity, maintain consistent coding standards, and leverage AI for code review and cloud deployment
- **Outcome**: By the end of this exercise, you'll be able to customize Copilot's behavior, use it for code reviews, and plan Azure deployments

## **Prerequisites**

- GitHub Copilot for Azure extension installed and activated in VS Code
- Basic understanding of VS Code settings

## **Getting Started**



## **Exercise 1: Setting Up an Instruction File**

### **What You'll Learn**
Create a `.github/copilot-instructions.md` file to define project-wide coding standards for GitHub Copilot.

### **Steps**:

1. First, ensure [instruction files](vscode://settings/github.copilot.chat.codeGeneration.useInstructionFiles) are enabled in VS Code settings:
    ![VS Code Settings for Instruction Files](../docs/images/instruction-files-setting.png)
   
2. Create a `.github` directory at the root of your workspace if it doesn't exist.


3. Create a `copilot-instructions.md` file in the `.github` directory:

4. Copy the contents from [sample](../docs/sample-copilot-instructions.md) into your `copilot-instructions.md` file under the `.github` directory, and save it. The instruction file in this project contains things like:
   - Code style guidelines for TypeScript and React development
   - Requirements to validate and test code changes
   - Instructions to follow the existing architecture patterns
   - Requirements to update unit tests when code changes are made
   - Guidelines for error handling and logging
   - Instructions to respect the ERD diagram when making database-related changes
 
5. Test your instruction file by implementing a new feature with Copilot's help:
   - Open Copilot Chat, and select `Agent` mode, choose a model, like `Claude 3.7 Sonnet`. Use the following prompt:
  
     ```txt
     Create a new "Suppliers" feature that adds a suppliers link to the navigation bar and displays a list of suppliers fetched from the backend. The list should include the supplier name, and contact information
     ```
   - Review the generated code to verify it follows the instructions in your copilot-instructions.md file. `copilot-instructions.md` file should get included automatically in the prompt.

       ![alt text](../docs//images/copilot-instructions-in-prompt.png)

   - Test the feature in your application
   - Once you are happy with the changes, click `Keep` to accept the changes and add them to your codebase.

## **Exercise 2: GitHub Copilot Code Review**

### **What You'll Learn**
Learn how to use GitHub Copilot to review your code changes and get AI-powered suggestions for improvements in VS Code.

### **Steps**:

1. Select the `Suppliers.tsx` file generated by Copilot in the exercise above (or any other file from the project if you like).

3. Try reviewing a code selection:
   - Select the entire file or a portion of code you want to review 
   - Open the **Command Palette** (**Ctrl+Shift+P** or **Cmd+Shift+P**)
   - Search for and select `GitHub Copilot: Review and Comment`
   - Wait for Copilot to review your code (usually takes less than 30 seconds)
   - Review Copilot's inline comments and suggestions in your file

     - Copilot will provide suggestions for improvements, such as:
          - Code quality improvements
          - Performance improvements
          - Bug fixes
          - Security vulnerabilities
   
  1. Working with suggestions:
      - Click `Apply and Go To Next` to accept a suggestion
      - Click `Discard and Go to Next` to reject a suggestion
  
        ![alt text](../docs/images/copilot-review-suggestions.png)


   5. You can try out the `GitHub Copilot: Review and Comment` command on any other file in your codebase to see how Copilot reviews the code.
      
   6.  Once you are happy with the changes, test the feature in your application to ensure it works as expected and commit the changes to your codebase. 

### **Important Tips**

1. **Validation**: 
   - Always validate Copilot's feedback carefully
   - Supplement Copilot's review with human review
   - Remember that Copilot isn't guaranteed to spot all issues

2. **Language Support**:
   - Full support for: C, C#, C++, Go, Java, JavaScript, Kotlin, Markdown, Python, Ruby, Swift, TypeScript
   - Public preview support for: HTML and Text

3. **Feedback**:
   - Provide feedback using thumbs up/down buttons on comments
   - Your feedback helps improve the quality of suggestions


## **Exercise 3: GitHub Copilot for Azure**

### **What You'll Learn**
Learn how to use GitHub Copilot for Azure to plan and configure cloud deployment for the OctoCAT Supply Chain application.

### **Prerequisites**
1. Install the GitHub Copilot for Azure extension from VS Code marketplace
2. Sign in to your Azure account when prompted


### **Steps**:

1. **Understanding Resource Requirements**
   -  Set Chat mode to `Ask` in VS Code's Copilot Chat
   Try these prompts with @azure:
   ```
   @azure What Azure services would you recommend for deploying our React frontend and Express.js API?
   ```
    ```
   @azure How can we containerize and deploy this application securely?
   ```

2. **Infrastructure Planning**
    
    Get help with infrastructure as code:

   - Set Chat mode to `Agent` in VS Code's Copilot Chat and try the following prompt:
   
   ```
   Create a Bicep template for secure deployment of our application with:
   - Azure App Service for the API
   - Azure Static Web Apps for the frontend
   - Azure Key Vault for secrets
   ```

3. **Security Configuration**
   Ask about security best practices:
   ```
    #azureGetBestPractices What security measures should we implement for our application in Azure?
  
   ```

4. **CI/CD Setup**
   Get help with deployment automation:
   ```
   Help me create a GitHub Actions workflow for deploying our application
   ```

### **Tips for Using @azure**
- Be specific about your application's architecture and requirements
- Ask follow-up questions if you need clarification
- Use the extension to generate deployment templates and configurations
- Always review and validate generated configurations before deploying


## **Conclusion**
You've now learned how to:
1. Use custom instructions to improve Copilot's code generation
2. Leverage Copilot's code review capabilities
3. Use GitHub Copilot for Azure to plan and configure cloud deployment

These skills will help you develop and deploy applications more efficiently while maintaining high quality and security standards.

## **Key Takeaways**

- **Custom Instructions**: GitHub Copilot can follow your coding standards and project requirements when provided with clear instructions.
- **Reusable Prompts**: Create prompt files for common tasks to standardize code generation across your team.
- **Improved Code Quality**: Properly configured, Copilot can generate code that follows your team's best practices.
- **AI-Powered Code Review**: GitHub Copilot can provide immediate feedback on your code changes, helping catch issues early.
- **MCP Tool Integration**: Model Context Protocol integration enables comprehensive code analysis and intelligent suggestions by sharing contextual information between Copilot and other development tools.

## **Next Steps**

- Create instruction files and prompt files for different parts of your codebase. Refer to the below article for more details:
  - [GitHub Copilot: Custom Instructions](https://docs.github.com/en/enterprise-cloud@latest/copilot/customizing-copilot/adding-repository-custom-instructions-for-github-copilot)
- Share your instruction files with your team
- Create a library of prompt files for common tasks
- Experiment with different combinations of instructions and prompts
- For more on GitHub Copilot Code Review, refer to the [GitHub Copilot Code Review documentation](https://docs.github.com/en/copilot/using-github-copilot/code-review/using-copilot-code-review?tool=vscode)
